<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Burn Management Checklist</title>
  <style>
/* Ensure the body fills the viewport */
html, body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: white;
}

/* Prevent landscape mode */
@media screen and (orientation: landscape) {
  body {
    display: none;
  }
}

/* Fixed Header */
.header {
  width: 100%;
  text-align: center;
  font-size: 8vw;
  font-weight: bold;
  font-family: "Courier New", Courier, monospace;
  color: white;
  z-index: 1000;
  padding-top: 5px;
  padding-bottom: 10px;
}

/* Main Container */
.content-container {
  position: relative; /* ✅ Allows input fields to position correctly */
  width: 80%;
  max-width: 488px;
  background-color: white;
  border: 3px solid black;
  border-radius: 8px;
  margin-top: -10px;
  padding: 20px;
  text-align: center;
  min-height: 600px; /* ✅ Ensures image & fields fit properly */
}

/* Consult Image */
#consultImage {
  width: 100%;
  max-width: 400px;
  display: block;
  margin: 0 auto;
}

/* Positioning for input fields */
.input-field {
  position: absolute;
  width: 22%;  /* ✅ Slightly smaller for better fit */
  height: 7%; 
  background: white;
  border: 3px solid black; /* ✅ Thicker for visibility */
  text-align: center;
  font-size: 1em;
  font-weight: bold;
  color: black;
  cursor: default;
  user-select: none;
  pointer-events: none; /* ✅ Prevents user interaction */
  z-index: 10;
}

/* TBSA Total Box */
.field8 { 
  width: 40%;
  bottom: 5px;
  left: 50%;
  transform: translateX(-50%);
}

/* Default input field positions */
.field1 { top: 9%; left: 38%; }  /* Head */
.field2 { top: 35%; left: 38%; } /* Chest/Trunk */
.field3 { top: 55%; left: 38%; } /* Groin */
.field4 { top: 38%; left: 5%; }  /* Right Arm */
.field5 { top: 38%; left: 72%; } /* Left Arm */
.field6 { top: 75%; left: 22%; } /* Right Leg */
.field7 { top: 75%; left: 55%; } /* Left Leg */

/* Next & Prev Buttons */
.nav-buttons {
  position: absolute;
  bottom: 20px;
  display: flex;
  width: 60vw;
  max-width: 400px;
  justify-content: center;
  align-items: center;
  gap: 100px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
}

/* Style for the navigation buttons */
.nav-buttons img {
  width: 100px;
  height: 75px;
  cursor: pointer;
  border-radius: 10px;
  opacity: 0.9;
  transition: transform 0.2s ease;
}

/* Button Press Effect */
.nav-buttons img:active {
  transform: scale(1.1);
}
  </style>
</head>
<body>
<!-- Fixed Header -->
<div class="header">THERMAL BURN <br> Initial Management <br> No Consult</div>

<!-- Main Container -->
<div class="content-container">
    <!-- Consult Image -->
    <img id="consultImage" src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/consult_tbsa.png" alt="Consult TBSA Image">

    <!-- Input Fields Positioned Over Image -->
    <input type="text" class="input-field field1" value="0%">
    <input type="text" class="input-field field2" value="0%">
    <input type="text" class="input-field field3" value="0%">
    <input type="text" class="input-field field4" value="0%">
    <input type="text" class="input-field field5" value="0%">
    <input type="text" class="input-field field6" value="0%">
    <input type="text" class="input-field field7" value="0%">
    
    <!-- TBSA Total Box -->
    <input type="text" class="input-field field8" readonly value="0%">
</div>

<!-- Next & Prev Buttons -->
<div class="nav-buttons">
    <img src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/prev.png" id="prevBtn" alt="Previous">
    <img src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/next.png" id="nextBtn" alt="Next">
</div>

<script>
// ✅ Function: Handle Next Button Click
document.addEventListener("DOMContentLoaded", function () {
    updateBackgroundColor();
    updateHeaderTitle();
    disableNextButton();
    setupPreviousButton();
    setupNextButton();
    showMessage("ATTENTION!! DO NOT DELAY TREATMENT! Initial management may occur before TBSA calculation or burn centre consultation.");
});

// ✅ Function: Update Background Color Based on Burn Type
function updateBackgroundColor() {
    setTimeout(() => {
        let burnType = getSessionCookie("selectedIcon") || "thermal";
        let colors = {
            "thermal": "#800000",
            "chemical": "#90EE90",
            "electrical": "#ADD8E6"
        };
        if (colors[burnType]) {
            document.body.style.backgroundColor = colors[burnType];
        }
    }, 200);
}

// ✅ Function: Show Acknowledge Message
function showMessage(message) {
    let msgBox = document.createElement("div");
    msgBox.innerHTML = `<p>${message}</p>`;
    let closeButton = document.createElement("button");
    closeButton.innerText = "ACKNOWLEDGE";
    closeButton.addEventListener("click", function () {
        msgBox.remove();
        enableNextButton();
    });
    msgBox.appendChild(closeButton);
    document.body.appendChild(msgBox);
}

// ✅ Function: Disable Next Button Initially
function disableNextButton() {
    let nextBtn = document.getElementById("nextBtn");
    if (nextBtn) {
        nextBtn.style.pointerEvents = "none";
        nextBtn.style.opacity = "0.5";
    }
}

// ✅ Function: Enable Next Button After Acknowledge
function enableNextButton() {
    let nextBtn = document.getElementById("nextBtn");
    if (nextBtn) {
        nextBtn.style.pointerEvents = "auto";
        nextBtn.style.opacity = "1";
    }
}

// ✅ Function: Setup Previous Button
function setupPreviousButton() {
    document.getElementById("prevBtn").addEventListener("click", function () {
        window.location.href = "https://concussed8.github.io/Android-App/pages/initial_management/initial_management.html";
    });
}

// ✅ Function: Setup Next Button
function setupNextButton() {
    document.getElementById("nextBtn").addEventListener("click", function () {
        window.location.href = "https://concussed8.github.io/Android-App/pages/modified_parkland/parkland.html";
    });
}
</script>

</body>
</html>
