<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Burn Management Checklist</title>
  <style>
    /* =============================================================
       1) GENERAL LAYOUT
       ============================================================= */
  html, body {
  margin: 0;
  padding: 0;
  width: 100vw;
  height: 100vh; /* This makes it always fill the viewport */
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: white; /* Will be overridden dynamically */
}

    @media screen and (orientation: landscape) {
      body {
        display: none;
      }
    }
    /* =============================================================
       2) FIXED HEADER
       ============================================================= */
    .header {
      width: 100%;
      text-align: center;
      font-size: 6vw;
      font-weight: bold;
      font-family: "Courier New", Courier, monospace;
      color: white;
      z-index: 1000;
      padding-top: 5px;
      padding-bottom: 10px;
      background-color: rgba(0, 0, 0, 0.2);
    }
    /* =============================================================
       3) MAIN CONTENT CONTAINER
       ============================================================= */
    .content-container {
      width: 80%;
      max-width: 488px;
      background-color: white;
      border: 3px solid black;  /* Default black border (will change to pink if age=2..15) */
      border-radius: 8px;
      margin-top: 10px;
      padding: 20px;
      position: relative; /* Enables absolute positioning of inner elements */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 400px; /* Set a minimum height if needed */
    }
    /* =============================================================
       4) INDIVIDUAL BUTTON STYLING
       ============================================================= */
    .button {
      background-color: #eee;               /* Base background color */
      border: none;
      border-radius: 5px;                   /* Slight rounding of corners */
      color: #333;                          /* Text color */
      font-size: 14px;  
      font-weight: bold;                    /* Font size */
      font-family: Arial, sans-serif;       /* Font */
      padding: 10px 20px;                   /* Spacing inside the button */
      cursor: pointer;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3); /* Subtle text shadow for depth */
      box-shadow:
        0 4px 0 #000,                     /* Hard edge shadow */
        0 6px 6px rgba(0, 0, 0, 0.3),       /* Outer drop shadow */
        inset 2px 2px 4px rgba(255, 255, 255, 0.9),  /* Inset highlight */
        inset -2px -2px 4px rgba(0, 0, 0, 0.7);      /* Inset shadow */
      transition: all 0.2s ease;
      position: absolute;                   /* Enables manual positioning */
      width: 75px;                         /* Button width */
      height: 60px;                         /* Button height */
    }
    .button:hover {
      background-color: #ddd;
    }
    .button:active {
      background-color: #ccc;
      box-shadow:
        0 2px 0 #000,
        0 4px 4px rgba(0, 0, 0, 0.3),
        inset 2px 2px 4px rgba(255, 255, 255, 0.9),
        inset -2px -2px 4px rgba(0, 0, 0, 0.7);
    }
    /* Unique positions for each button */
    .button1 {
      top: 35px;
      left: 250px;
background-color: #ADD8E6;

    }
    .button2 {
      top: 135px;
      left: 250px;
 background-color: #FFC107;
    }
    .button3 {
       top: 235px;
      left: 250px;
background-color:#8B0000;
      color: #fff;
    }
    .button4 {
      top: 335px;
      left:250px;
    }
   
    /* =============================================================
       5a) LABEL (Non-editable) BOX STYLING
       ============================================================= */
    .label-box {
      background-color: #eee;               /* Same base background as buttons */
      border: none;
      border-radius: 5px;
      color: #333;
      font-size: 12px;
      font-family: Arial, sans-serif;
font-weight: bold;
      padding: 10px 20px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      box-shadow:
        0 4px 0 #000,
        0 6px 6px rgba(0, 0, 0, 0.3),
        inset 2px 2px 4px rgba(255, 255, 255, 0.9),
        inset -2px -2px 4px rgba(0, 0, 0, 0.7);
      transition: all 0.2s ease;
      position: absolute;
      width: 75px;      /* Label box width */
      height: 60px;      /* Label box height */
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* Unique positions for each label box (placed next to each corresponding button) */
    .label-box1 {
      top: 25px;
      left: 25px; /* 375px + button width (100px) + margin */
      background-color: #ADD8E6;
text-align: center;
    }
    .label-box2 {
      top: 125px;
      left: 25px;
      background-color: #FFC107;
text-align: center;
    }
    .label-box3 {
      top: 225px;
      left: 25px;
text-align: center;
background-color:#8B0000;
      color: #fff;
    }
    .label-box4 {
      top: 325px;
      left: 25px;
      text-align: center;
    }
    
/* Common arrow styling */
    .arrow {
      position: absolute;
      width: 75px;    /* Default width; adjust as needed */
      height: auto;   /* Maintain aspect ratio */
    }
    /* Unique positions for each arrow */
    .arrow1 {
      top: 45px;
      left:165px;
    }
    .arrow2 {
      top: 145px;
      left: 165px;
    }
    .arrow3 {
      top: 245px;
      left: 165px;
    }
    .arrow4 {
      top: 345px;
      left: 165px;
    }
   
    /* =============================================================
       6) NAVIGATION BUTTONS (Fixed at the bottom of the viewport)
       ============================================================= */
    .nav-buttons {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 100px;
      z-index: 1000;
    }
    .nav-buttons img {
      width: 100px;
      height: 75px;
      cursor: pointer;
      border-radius: 10px;
      opacity: 0.9;
      transition: transform 0.2s ease;
    }
    .nav-buttons img:active {
      transform: scale(1.1);
    }
 /* =============================================================
       7) POPUPS FOR BUTTONS 1-4
       ============================================================= */
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }
    .popup-content {
      background-color: #ffffff;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      font-family: Arial, sans-serif;
      font-size: 18px;
      color: #000000;
      max-width: 90%;
      box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    }
.popup-image {
  display: block;           /* Make the image a block element */
  max-width: 100%;          /* Limit its width to the popup container's width */
  height: auto;             /* Maintain aspect ratio */
  margin: 0 auto 20px auto;  /* Center horizontally and add bottom margin */
}

    /* Unique popup classes (for extra styling if needed) */
    .popup1 { }
    .popup2 { }
    .popup3 { }
    .popup4 { }
    .close-button {
      background-color: #eee;
      border: none;
      border-radius: 5px;
      color: #333;
      font-size: 14px;
      font-weight: bold;
      font-family: Arial, sans-serif;
      padding: 10px 20px;
      cursor: pointer;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      box-shadow:
        0 4px 0 #000,
        0 6px 6px rgba(0, 0, 0, 0.3),
        inset 2px 2px 4px rgba(255, 255, 255, 0.9),
        inset -2px -2px 4px rgba(0, 0, 0, 0.7);
      transition: all 0.2s ease;
      margin-top: 20px;
    }

.popup2 {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

  </style>
</head>
<body>

  <!-- HEADER (DYNAMIC BURN TYPE + "Consult Summary") -->
  <div class="header">
    <span id="dynamicHeader"></span><br>
    Management Resources
  </div>

  <!-- CONTENT CONTAINER WITH SIX BUTTONS AND SIX LABEL BOXES -->
  <div class="content-container">
    <!-- Six Buttons -->
    <button id="btn1" class="button button1">CLICK<br>HERE</button>
    <button id="btn2" class="button button2">CLICK<br>HERE</button>
    <button id="btn3" class="button button3">CLICK<br>HERE</button>
    <button id="btn4" class="button button4">CLICK<br>HERE</button>
   
    <!-- Corresponding Label Boxes (non-editable) -->
    <div id="label1" class="label-box label-box1">GOALS<br>of<br>RESUSCITATION</div>
    <div id="label2" class="label-box label-box2">RESUSCITATION<br>FLUID<br>TITRATION</div>
    <div id="label3" class="label-box label-box3">INHALATION<br>MANAGEMENT</div>
    <div id="label4" class="label-box label-box4">OUTPATIENT<br>BURN<br>MANAGEMENT</div>

    <div class="arrow-container">
      <img class="arrow arrow1" src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/arrow.png" alt="Arrow 1">
      <img class="arrow arrow2" src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/arrow.png" alt="Arrow 2">
      <img class="arrow arrow3" src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/arrow.png" alt="Arrow 3">
      <img class="arrow arrow4" src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/arrow.png" alt="Arrow 4">
    </div>
  </div>

  <!-- NAVIGATION BUTTONS (Displayed dynamically at the bottom) -->
  <div class="nav-buttons">
    <img src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/prev.png" id="prevBtn" alt="Previous">
  </div>

  <!-- 4 POPUPS FOR BUTTONS 1-4 -->
  <div class="popup-overlay" id="popup1">
    <div class="popup-content popup1">
      <!-- Display the image goal_resus in popup 1 -->
      <img class="popup-image" src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/goal_resus.png" alt="Goal Resus">
      <button class="close-button" id="close1">CLOSE</button>
    </div>
  </div>
  
  <div class="popup-overlay" id="popup2">
    <div class="popup-content popup2">
      <img class="popup-image" src="https://raw.githubusercontent.com/concussed8/Android-App/main/images/titration.png" alt="Titration">
      <button class="close-button" id="close2">CLOSE</button>
    </div>
  </div>

<div class="popup-overlay" id="popup4">
  <div class="popup-content popup4">
    <p>
      <a href="https://concussed8.github.io/Android-App/files/CCSO_Burn-Management-Checklist_EN_20240513.pdf" target="_blank">
        CCSO Outpatient Burn Management
      </a>
      |
      <a href="https://concussed8.github.io/Android-App/files/CCSO_Burn-Management-Checklist_EN_20240513.pdf" download>
        Download PDF
      </a>
    </p>
    <p>
      <a href="https://concussed8.github.io/Android-App/files/electrical-injury-less-than-1000volts.pdf" target="_blank">
        Electrical Injury &lt; 1000 Volts
      </a>
      |
      <a href="https://concussed8.github.io/Android-App/files/electrical-injury-less-than-1000volts.pdf" download>
        Download PDF
      </a>
    </p>
    <p>
      <a href="https://concussed8.github.io/Android-App/files/inhalation_management.pdf" target="_blank">
        Inhalation Management
      </a>
      |
      <a href="https://concussed8.github.io/Android-App/files/inhalation_management.pdf" download>
        Download PDF
      </a>
    </p>
    <p>
      <a href="https://youtu.be/hJnUm4lB7i0?si=Ki1vdv90bLAg5q6w" target="_blank">
        CCSO Resource on Burn Debridement Video
      </a>
    </p>
    <button class="close-button" id="close4">CLOSE</button>
  </div>
</div>


  <script>
    // =============================================================
    // 1) COOKIE HELPERS
    // =============================================================
    function getSessionCookie(name) {
      let cookies = document.cookie.split('; ');
      for (let cookie of cookies) {
        let [cookieName, cookieValue] = cookie.split('=');
        if (cookieName === name) {
          return decodeURIComponent(cookieValue);
        }
      }
      return "";
    }
    function setSessionCookie(name, value) {
      document.cookie = `${name}=${encodeURIComponent(value)}; path=/; SameSite=Lax; max-age=3600`;
    }
    // =============================================================
    // 2) DYNAMIC BACKGROUND & PINK BORDER
    // =============================================================
    function updateBackgroundColor() {
      setTimeout(() => {
        let burnType = getSessionCookie("selectedIcon") || "thermal";
        let colors = {
          thermal: "#800000",
          chemical: "#90EE90",
          electrical: "#ADD8E6"
        };
        if (colors[burnType]) {
          document.body.style.backgroundColor = colors[burnType];
        }
      }, 200);
    }
    function applyPinkBorderIfAge2to15() {
      let age = parseInt(getSessionCookie("age"), 10);
      let container = document.querySelector(".content-container");
      if (!container) return;
      if (!isNaN(age) && age >= 2 && age <= 15) {
        container.style.border = "3px solid #ffc0cb";
      } else {
        container.style.border = "3px solid black";
      }
    }
    // =============================================================
    // 3) HEADER DYNAMIC TITLE
    // =============================================================
    function updateHeaderTitle() {
      let burnType = getSessionCookie("selectedIcon") || "thermal";
      let dynamicHeader = document.getElementById("dynamicHeader");
      if (!dynamicHeader) return;
      switch (burnType) {
        case "thermal":
          dynamicHeader.textContent = "THERMAL BURN";
          break;
        case "chemical":
          dynamicHeader.textContent = "CHEMICAL BURN";
          break;
        case "electrical":
          dynamicHeader.textContent = "ELECTRICAL BURN";
          break;
        default:
          dynamicHeader.textContent = "THERMAL BURN";
      }
    }
    // =============================================================
    // 4) SETUP BUTTON EVENT LISTENERS
    // =============================================================
    function setupButtons() {
      const buttonIds = ["btn1", "btn2", "btn3", "btn4"];
      buttonIds.forEach((id, index) => {
        let btn = document.getElementById(id);
        if (btn) {
          btn.addEventListener("click", function() {
            console.log("Button " + (index + 1) + " clicked");
            // Insert additional actions or effects here if needed.
          });
        }
      });
    }
    // =============================================================
    // 5) NAVIGATION BUTTONS
    // =============================================================
    function setupPrevButton() {
      let prevBtn = document.getElementById("prevBtn");
      if (!prevBtn) return;
      prevBtn.addEventListener("click", function() {
        window.location.href = 'https://concussed8.github.io/Android-App/pages/consult_summary/consult_summary-requirements.html';
      });
    }
    // =============================================================
    // 6) POPUP FUNCTIONALITY FOR BUTTONS 1-4
    // =============================================================
    function setupPopupTriggers() {
      // Button 1 triggers Popup 1 (displays image goal_resus)
      let btn1 = document.getElementById("btn1");
      let popup1 = document.getElementById("popup1");
      if(btn1 && popup1) {
        btn1.addEventListener("click", function(){
          popup1.style.display = "flex";
        });
      }
      // Button 2 triggers Popup 2 (fluid rate component)
      let btn2 = document.getElementById("btn2");
      let popup2 = document.getElementById("popup2");
      if(btn2 && popup2) {
        btn2.addEventListener("click", function(){
          popup2.style.display = "flex";
        });
      }
      // Button 3 triggers a redirect to the stored page
      let btn3 = document.getElementById("btn3");
      if (btn3) {
        btn3.addEventListener("click", function() {
          window.location.href = 'https://concussed8.github.io/Android-App/pages/management/inhalation_management.html';
        });
      }
      // Button 4 triggers Popup 4
      let btn4 = document.getElementById("btn4");
      let popup4 = document.getElementById("popup4");
      if(btn4 && popup4) {
        btn4.addEventListener("click", function(){
          popup4.style.display = "flex";
        });
      }
      // Close buttons for each popup
      let close1 = document.getElementById("close1");
      if(close1 && popup1) {
        close1.addEventListener("click", function(){
          popup1.style.display = "none";
        });
      }
      let close2 = document.getElementById("close2");
      if(close2 && popup2) {
        close2.addEventListener("click", function(){
          popup2.style.display = "none";
        });
      }
      // Removed popup3 close button handling since popup3 is not used
      let close4 = document.getElementById("close4");
      if(close4 && popup4) {
        close4.addEventListener("click", function(){
          popup4.style.display = "none";
        });
      }
    }
    // =============================================================
    // 7) ON PAGE LOAD
    // =============================================================
    document.addEventListener("DOMContentLoaded", function() {
      updateBackgroundColor();
      applyPinkBorderIfAge2to15();
      updateHeaderTitle();
      setupButtons();
      setupPrevButton();
      // Removed setupNextButton() call
      setupPopupTriggers();
    });
  </script>
</body>
</html>
